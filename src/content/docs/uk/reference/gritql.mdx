---
title: GritQL [ЕКСПЕРИМЕНТАЛЬНИЙ]
description: Основи використання GritQL у Biome
---

GritQL - це мова запитів для виконання структурних пошуків у вихідному коді.
Це означає, що такі дрібниці, як пробіли або навіть тип лапок, використаних у
рядках, будуть ігноруватися у вашому пошуковому запиті. Крім того, вона пропонує
багато функцій, які дозволяють запитувати структуру синтаксису, такі як фрагменти,
відповідність, вкладеність та змінні.

GritQL є [відкритим кодом](https://github.com/getgrit/gritql/) і створений [Grit.io](https://grit.io/).

Biome інтегрує GritQL для двох цілей:

- Команда [`biome search`](/reference/cli/#biome-search), яку ми сподіваємося
    розширити також для наших розширень IDE.
- Наші поточні зусилля щодо плагінів, які знаходяться в процесі розробки.

## Шаблони

Запити GritQL працюють через _шаблони_. Найпоширеніший шаблон, який ви побачите,
це фрагмент коду, який виглядає як звичайний вихідний код, обгорнутий у зворотні лапки:

```grit
`console.log('Привіт, світе!')`
```

Цей шаблон відповідатиме будь-якому виклику `console.log()`, якому передано рядок
`'Привіт, світе!'`. Але оскільки GritQL виконує _структурне_ співставлення, його не цікавлять деталі форматування. Це також відповідає:

```js
console.log (
    'Привіт, світе!'
)
```

І так само це (зверніть увагу на зміну лапок):

```js
console.log("Привіт, світе!")
```

:::note
Більшість оболонок інтерпретують зворотні лапки як виклики команд, що конфліктує
з кодовими фрагментами GritQL. Тому при використанні команди `biome search` найкраще
обгорнути ваші запити Grit у _одинарні лапки_:

```shell
biome search '`console.log($message)`' # знайти всі виклики `console.log`
```
:::

## Змінні

Запити GritQL також можуть мати _змінні_. Наступний приклад відповідатиме будь-якому виклику
`console.log()`, незалежно від переданого повідомлення:

```grit
`console.log($message)`
```

Це також відповідатиме будь-якому з методів об'єкта `console`:

```grit
`console.$method($message)`
```

Те саме ім'я змінної може зустрічатися кілька разів в одному фрагменті:

```grit
`$fn && $fn()`
```

Це відповідатиме `foo && foo()`, і навіть `foo.bar && foo.bar()`, але не
`foo && bar()`.

## Умови

Ви можете додавати умови до шаблонів, використовуючи оператор `where`. Це
зазвичай використовується разом з _оператором відповідності_, `<:`:

```grit
`console.$method($message)` where {
    $method <: `log`
}
```

Цей запит ідентичний шаблону `console.log($message)`, який ми бачили раніше,
але він стає набагато цікавішим, коли додаються інші оператори:

```grit
`console.$method($message)` where {
    $method <: or { `log`, `info`, `warn`, `error` }
}
```

## Документація мови

Для отримання додаткової інформації про GritQL та його синтаксис, дивіться офіційну
[Документацію мови GritQL](https://docs.grit.io/language/overview).

Зверніть увагу, що Biome поки що не підтримує всі функції Grit.

## Статус інтеграції

Підтримка GritQL у Biome активно розробляється. Багато функцій вже працюють,
але очікуються помилки, і деякі функції ще повністю відсутні.

Для детального огляду підтримуваних функцій GritQL та тих, що ще в процесі розробки,
дивіться GitHub issue:
https://github.com/biomejs/biome/issues/2582.

Ми також маємо детальний RFC, який визначає напрямок наших зусиль щодо плагінів:
https://github.com/biomejs/biome/discussions/1762

**Коротко**: Ми працюємо над підтримкою плагінів, які можуть бути або чистими плагінами GritQL,
або плагінами JS/TS, що використовують GritQL для вибору коду, з яким вони бажають працювати. Слідкуйте за оновленнями!
