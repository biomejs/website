---
title: Форматировщик
description: Как использовать форматировщик Biome.
---

import PackageManagerBiomeCommand from "@/components/PackageManagerBiomeCommand.astro";

Biome - это опинионный форматировщик, который [поддерживает несколько языков](/internals/language-support).
Он следует философии, аналогичной [философии Prettier](https://prettier.io/docs/en/option-philosophy.html),
поддерживая только несколько опций, чтобы избежать споров о стилях, превращающихся в споры об опциях Biome.
Он намеренно [сопротивляется желанию добавлять новые опции](https://github.com/prettier/prettier/issues/40), чтобы предотвратить [обсуждения незначительных деталей](https://en.wikipedia.org/wiki/Law_of_triviality) в командах, чтобы они могли сосредоточиться на том, что действительно важно.


## CLI

Следующая команда проверяет форматирование файлов в директории `src`.
Она выводит текстовые различия, если находит неотформатированный код.

<PackageManagerBiomeCommand command="format ./src" />

Если вы хотите применить новое форматирование, передайте опцию `--write`:

<PackageManagerBiomeCommand command="format --write ./src" />

Команда принимает список файлов и директорий.

:::caution
Если вы передаете glob как параметр, ваша оболочка будет его разворачивать.
Результат разворачивания зависит от вашей оболочки.
Например, некоторые оболочки не поддерживают рекурсивный glob `**` или альтернацию `{}` в следующей команде:

```shell
biome format ./src/**/*.test.{js,ts}
```

Разворачивание оболочки имеет накладные расходы на производительность и ограничение на количество файлов, которые вы можете передать команде.
:::

Для получения дополнительной информации обо всех доступных опциях см. [справочник по CLI](/reference/cli#biome-format).


## Опции

Biome предоставляет несколько опций для настройки поведения форматировщика.
В отличие от других инструментов, Biome отделяет языконезависимые опции от языкоспецифичных опций.

Опции форматировщика могут быть установлены через [CLI](/reference/cli/#biome-format) или через [конфигурационный файл Biome](/guides/configure-biome).
Начиная с версии v1.9, Biome поддерживает загрузку файлов `.editorconfig`.

Рекомендуется использовать [конфигурационный файл Biome](/guides/configure-biome), чтобы убедиться, что и Biome CLI, и Biome LSP применяют одинаковые опции.
Применяются следующие значения по умолчанию:

```json title="biome.json"
{
  "formatter": {
    "enabled": true,
    "formatWithErrors": false,
    "ignore": [],
    "attributePosition": "auto",
    "indentStyle": "tab",
    "indentWidth": 2,
    "lineWidth": 80,
    "lineEnding": "lf"
  },
  "javascript": {
    "formatter": {
      "arrowParentheses":"always",
      "bracketSameLine": false,
      "bracketSpacing": true,
      "jsxQuoteStyle": "double",
      "quoteProperties": "asNeeded",
      "semicolons": "always",
      "trailingCommas": "all"
    }
  },
  "json": {
    "formatter": {
      "trailingCommas": "none"
    }
  }
}
```

Основные языконезависимые опции, поддерживаемые форматировщиком Biome:

- стиль отступа (по умолчанию: `tab`): использование пробелов или табуляции для отступов;
- ширина отступа (по умолчанию: `2`): количество пробелов на один уровень отступа;
- ширина строки (по умолчанию: `80`): ширина столбца, на которой Biome переносит код;

Подробнее см. в [справочнике по конфигурации](/reference/configuration#formatter).


## Игнорирование кода

Бывают случаи, когда отформатированный код не идеален.

В этих случаях вы можете использовать комментарий подавления форматирования:

```js title="example.js"
// biome-ignore format: <explanation>
```

Пример:

```js title="example.js"
const expr =
  // biome-ignore format: the array should not be formatted
  [
    (2 * n) / (r - l),
    0,
    (r + l) / (r - l),
    0,
    0,
    (2 * n) / (t - b),
    (t + b) / (t - b),
    0,
    0,
    0,
    -(f + n) / (f - n),
    -(2 * f * n) / (f - n),
    0,
    0,
    -1,
    0,
  ];
```

Biome не предоставляет комментариев игнорирования, которые игнорируют весь файл.
Однако вы можете [игнорировать файл, используя конфигурационный файл Biome](/guides/configure-biome/#ignore-files).
