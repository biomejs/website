---
title: Настройка Biome
description: Узнайте, как работает конфигурация Biome.
tableOfContents:
  minHeadingLevel: 2
  maxHeadingLevel: 4
---

import { FileTree } from '@astrojs/starlight/components';

Это руководство поможет вам понять, как настроить Biome.
Оно объясняет структуру конфигурационного файла Biome и то, как Biome разрешает свою конфигурацию.
Если вы уже знакомы с конфигурацией, возможно, вы захотите ознакомиться со [справочником по конфигурации](/reference/configuration/), в котором подробно описаны все доступные параметры.

Biome позволяет настраивать свое поведение с помощью опций CLI или конфигурационного файла с именем `biome.json` или `biome.jsonc`.
Мы рекомендуем создавать конфигурационный файл для каждого проекта.
Это гарантирует, что у каждого члена команды будет одинаковая конфигурация как в CLI, так и в любом редакторе, поддерживающем интеграцию с Biome.
Многие параметры, доступные в конфигурационном файле, также доступны в CLI.

## Структура конфигурационного файла

Конфигурационный файл Biome называется `biome.json` или `biome.jsonc`. Обычно
он размещается в корневой папке вашего проекта, рядом с файлом `package.json` вашего проекта.

Поскольку Biome — это набор инструментов, его конфигурация организована вокруг предоставляемых им инструментов. На данный момент Biome предоставляет три инструмента: форматтер, линтер
и помощник. Все эти инструменты включены по умолчанию. Вы можете отключить один
или несколько из них, используя поле `<tool>.enabled`:

```json title="biome.json"
{
  "$schema": "https://biomejs.dev/schemas/2.0.5/schema.json",
  "formatter": {
    "enabled": false
  },
  "linter": {
    "enabled": false
  },
  "assist": {
    "enabled": false
  }
}
```

Параметры, которые применяются к нескольким языкам, помещаются в соответствующее поле инструмента.
Языко-специфичные параметры инструмента помещаются в поле `<language>.<tool>`.
Это также позволяет переопределять общие параметры для конкретного языка.
Вы также можете включать или отключать инструмент в зависимости от языка.
В следующем примере мы настраиваем общие параметры `formatter.indentStyle` и `formatter.lineWidth` для всех языков.
Также мы устанавливаем специфичный для JavaScript параметр `quoteStyle` в `javascript.formatter` и переопределяем `formatter.lineWidth`.
Мы отключили форматтер для JSON-файлов.

```json5 title="biome.jsonc"
{
  "formatter": {
    "indentStyle": "space", // по умолчанию `tab`
    "lineWidth": 100 // по умолчанию `80`
  },
  "javascript": {
    "formatter": {
      "quoteStyle": "single", // по умолчанию `double`
      "lineWidth": 120 // переопределяет `formatter.lineWidth`
    }
  },
  "json": {
    "formatter": {
      "enabled": false
    }
  }
}
```

:::note
Biome называет все варианты языка JavaScript как `javascript`.
Это включает TypeScript, JSX и TSX.
:::


## Разрешение конфигурационного файла

Biome использует автоматическое обнаружение для поиска ближайшего конфигурационного файла. Он ищет
в рабочей директории и ее родительских папках, пока не найдет файл `biome.json` или
`biome.jsonc`. Если конфигурация не найдена, используется конфигурация Biome по умолчанию. Если и `biome.json`, и `biome.jsonc` присутствуют в одной папке,
используется `biome.json`.

Вот пример:

<FileTree>
- app/
  - backend/
    - biome.json
    - package.json
  - frontend/
    - legacy/
      - package.json
    - new/
      - package.json
    - biome.json
</FileTree>


- команды Biome, которые выполняются в `app/backend/package.json`, будут использовать конфигурационный файл `app/backend/biome.json`;
- команды Biome, которые выполняются в `app/frontend/legacy/package.json` и `app/frontend/new/package.json`,
будут использовать конфигурационный файл `app/frontend/biome.json`;

:::note
Biome (начиная с версии v2.0.0) поддерживает вложенные файлы `biome.json`. Для получения дополнительной информации прочитайте [Использование Biome в больших проектах](/guides/big-projects#use-multiple-configuration-files).
:::


## Указание файлов для обработки

Вы можете контролировать файлы/папки для обработки, используя различные стратегии: CLI, конфигурацию и VCS.

:::note
По умолчанию Biome всегда игнорирует некоторые файлы, которые называются **защищенными файлами**.
Это означает, что Biome никогда не будет выдавать диагностику для этих файлов.
На данный момент защищенными являются следующие файлы:

- `composer.lock`
- `npm-shrinkwrap.json`
- `package-lock.json`
- `yarn.lock`
:::

### Включение файлов через CLI

Первый способ контролировать, какие файлы и папки обрабатываются Biome, — это
перечислить их в CLI. В следующей команде мы форматируем только `file1.js` и
все файлы в папке `src`, потому что папки обходятся рекурсивно.

```shell
biome format file1.js src/
```

:::caution
Glob-шаблоны, используемые в командной строке, не интерпретируются Biome.
Они раскрываются вашей оболочкой.
Некоторые оболочки не поддерживают рекурсивный glob `**`.
:::

### Контроль файлов через конфигурацию

Конфигурационный файл Biome можно использовать для уточнения того, какие файлы обрабатываются.
Вы можете явно перечислить файлы для обработки, используя
[поле `files.includes`](/reference/configuration/#filesincludes).
`files.includes` принимает
[glob-шаблоны](/reference/configuration/#glob-syntax-reference), такие как
`src/**/*.js`. Отрицательные шаблоны, начинающиеся с `!`, можно использовать для исключения файлов.

Пути и globs внутри конфигурационного файла Biome разрешаются относительно
папки, в которой находится конфигурационный файл. Исключением из этого является случай, когда
конфигурационный файл [расширяется](/reference/configuration/#extends) другим.

`files.includes` применяется ко всем инструментам Biome, что означает, что указанные здесь файлы обрабатываются линтером, форматтером и помощником, если не указано
иное. Для отдельных инструментов вы можете дополнительно уточнить соответствующие файлы
используя `<tool>.includes`.


#### Включение файлов через конфигурацию

Рассмотрим следующую конфигурацию, где мы хотим включить только JavaScript-файлы (`.js`), которые находятся внутри
папки `src/`, папки `test/` и игнорировать файлы, в имени которых есть `.min.js`:

```json title="biome.json"
{
  "files": {
    "includes": ["src/**/*.js", "test/**/*.js", "!**/*.min.js"]
  },
  "linter": {
    "includes": ["**", "!test/**"]
  }
}
```

И выполним следующую команду:

```shell
biome format test/
```

Команда отформатирует файлы, которые заканчиваются расширением `.js` и не
заканчиваются расширением `.min.js` из папки `test/`.

Файлы в `src/` не форматируются, потому что папка не указана в
CLI.

Если мы выполним следующую команду, файлы не будут проверены линтером, потому что файлы внутри
папки `test/` явно игнорируются для линтера.

```shell
biome lint test/
```

:::caution
Глобальное `files.includes` имеет немного другую семантику, чем более
конкретные поля `<tool>.includes`. Любой файл или папка, которые не соответствуют
`files.includes`, исключаются из использования любыми инструментами Biome. Это означает, что
любое специфичное для инструмента поле `includes` никогда не сможет соответствовать файлу, который также не
соответствует `files.includes`.
:::

#### Исключение файлов через конфигурацию

Если вы хотите исключить файлы и папки из обработки Biome, вы можете использовать конфигурацию `files.includes`
и использовать отрицательные шаблоны:
- использование ведущего `!` для игнорирования файлов от линтинга/форматирования
- использование двойного ведущего `!!` для игнорирования файлов от любых операций, связанных с проектом

Операции, связанные с проектом:
- построение внутреннего графа модулей, чтобы [некоторые проектные правила](/linter/domains/#project) могли разрешать информацию из импортов и экспортов;
- вывод типов, чтобы правила линтера, учитывающие типы, могли правильно выводить типы.

Файл, который рассматривается для операций, связанных с проектом, является **индексированным**.

Перед перечислением отрицательных globs **они должны предваряться шаблоном `**`**.

В следующем примере мы говорим Biome включить все файлы, кроме:
- папки `dist/`, которая будет игнорироваться от любых операций, связанных с проектом, следовательно, они не индексируются;
- любого файла, который заканчивается на `.generated.js`, которые игнорируются от форматирования и линтинга, но все еще индексируются.

```json title="biome.json"
{
  "files": {
    "includes": [
      "**",
      "!**/*.generated.js",
      "!!**/dist"
    ]
  }
}
```

Для получения дополнительной информации о взаимодействии со сканером и о том, как он индексирует ваши файлы, ознакомьтесь с [соответствующей справочной страницей](/reference/configuration#interaction-with-the-scanner)


### Контроль файлов через VCS

Вы можете [игнорировать файлы, игнорируемые вашей VCS](/guides/integrate-in-vcs#use-the-ignore-file).

## Известные файлы

Вот некоторые известные файлы, которые мы специально обрабатываем на основе их имен файлов, а не их расширений.
В настоящее время известные файлы — это только JSON-подобные файлы, но мы можем расширить список, включив другие типы, когда будем поддерживать новые парсеры.

Следующие файлы парсятся как `JSON`-файлы с обоими параметрами `json.parser.allowComments` и `json.parser.allowTrailingCommas`, установленными в `false`.

- `.all-contributorsrc`
- `.arcconfig`
- `.auto-changelog`
- `.bowerrc`
- `.c8rc`
- `.htmlhintrc`
- `.imgbotconfig`
- `.jslintrc`
- `.nycrc`
- `.tern-config`
- `.tern-project`
- `.vuerc`
- `.watchmanconfig`
- `mcmod.info`

Следующие файлы парсятся как `JSON`-файлы с параметром `json.parser.allowComments`, установленным в `true`, но `json.parser.allowTrailingCommas`, установленным в `false`. Это потому, что инструменты, использующие эти файлы, могут только удалять комментарии.

- `.ember-cli`
- `.eslintrc.json`
- `.jscsrc`
- `.jshintrc`
- `tslint.json`
- `turbo.json`

Следующие файлы парсятся как `JSON`-файлы с параметрами `json.parser.allowComments` и `json.parser.allowTrailingCommas`, установленными в `true`. Это потому, что инструменты, использующие эти файлы, спроектированы для поддержки таких настроек.

- `.babelrc`
- `.babelrc.json`
- `.devcontainer.json`
- `.hintrc`
- `.hintrc.json`
- `.oxlintrc.json`
- `.swcrc`
- `api-documenter.json`
- `api-extractor.json`
- `babel.config.json`
- `deno.json`
- `devcontainer.json`
- `dprint.json`
- `jsconfig.json`
- `jsr.json`
- `language-configuration.json`
- `nx.json`
- `project.json`
- `tsconfig.json`
- `typedoc.json`
- `typescript.json`
