---
title: Интеграция Biome в расширение для редактора
description: Узнайте, как интегрировать Biome с редакторами и IDE
---

Biome имеет первоклассную поддержку [LSP](https://microsoft.github.io/language-server-protocol/). Если ваш редактор реализует LSP, то интеграция Biome должна быть бесшовной.

### Использование LSP прокси

Biome имеет команду `lsp-proxy`. При выполнении Biome запустит два процесса:
- [демон](/internals/architecture#daemon), который выполняет запрошенные операции;
- сервер, который функционирует как прокси между запросами клиента - редактора - и сервера - демона;

Если ваш редактор способен взаимодействовать с сервером и отправлять запросы [JSON-RPC](https://www.jsonrpc.org/), вам нужно только настроить редактор для запуска этой команды.

Вы можете посмотреть, как это делает [`neo-vim biome extension`](https://github.com/neovim/nvim-lspconfig/blob/master/lua/lspconfig/configs/biome.lua).

### Использование `stdin`

Если ваш редактор не поддерживает LSP, вы можете использовать непосредственно бинарный файл `biome` и вызывать его через [стандартный ввод](https://en.wikipedia.org/wiki/Standard_streams#Standard_input_(stdin)).

Следующие команды могут быть вызваны через стандартный ввод:
- [`format`](/reference/cli/#biome-format)
- [`lint`](/reference/cli/#biome-lint)
- [`check`](/reference/cli/#biome-check)

Biome вернет новый вывод (или оригинальный вывод, если изменения не произошли) в [стандартный вывод](https://en.wikipedia.org/wiki/Standard_streams#Standard_output_(stdout)), а диагностику в [стандартный поток ошибок](https://en.wikipedia.org/wiki/Standard_streams#Standard_error_(stderr)).

Когда вы используете `stdin`, вы должны передать опцию `--stdin-file-path`. Путь к файлу `path` **не обязательно должен существовать** в вашей файловой системе, это может быть любое имя. **Важно** предоставить правильное расширение файла, чтобы Biome знал, **как обрабатывать** ваш файл.

Редактор несет ответственность за определение пути к бинарному файлу и его вызов при необходимости. Бинарные файлы поставляются в npm на основе архитектур и ОС, которые мы поддерживаем:

- `@biomejs/cli-darwin-arm64`
- `@biomejs/cli-darwin-x64`
- `@biomejs/cli-linux-arm64`
- `@biomejs/cli-linux-x64`
- `@biomejs/cli-win32-arm64`
- `@biomejs/cli-win32-x64`

Имя бинарного файла `biome` или `biome.exe`, и его можно найти в корневой директории библиотеки, например: `@biomejs/cli-darwin-arm64/biome`, `@biomejs/cli-win32-x64/biome.exe`.

### Использование демона с бинарным файлом

Использование бинарного файла через CLI очень эффективно, хотя вы не сможете предоставить [логи](#daemon-logs) вашим пользователям. CLI позволяет запустить демон, а затем использовать команды CLI через сам демон.

Для этого сначала нужно запустить процесс демона командой [`start`](/reference/cli#biome-start):

```shell
biome start
```
Затем каждая команда должна добавлять опцию `--use-server`, например:

```shell
echo "console.log('')" | biome format --use-server --stdin-file-path=dummy.js
```

:::note
Если вы решите использовать демон, вы также несете ответственность за перезапуск/завершение процесса командой [`stop`](/reference/cli#biome-stop), чтобы избежать фоновых процессов-призраков.
:::

:::caution
Операции через демон значительно медленнее, чем сам CLI, поэтому рекомендуется выполнять операции только над отдельными файлами.
:::

### Логи демона

Демон Biome сохраняет логи в вашей файловой системе. Логи хранятся в папке `biome-logs`. Путь к этой папке зависит от вашей операционной системы:
-  Linux: `~/.cache/biome`;
-  Windows: `C:\Users\<UserName>\AppData\Local\biomejs\biome\cache`
-  macOS: `/Users/<UserName>/Library/Caches/dev.biomejs.biome`

Для других операционных систем вы можете найти папку во временной директории системы.

Чтобы получить точный путь, выполните следующую команду:
```shell
biome explain daemon-logs
```

Файлы логов ротируются каждый час.

