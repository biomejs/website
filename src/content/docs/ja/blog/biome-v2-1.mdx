---
title: 'Biome v2.1'
excerpt: |
  Biome 2.1をリリースしました！バグ修正に加え、スキャナーの高速化や型推論の改善が含まれています。
authors:
  - arendjr
  - team
date: 2025-07-08
cover:
    light: "@/assets/blog/roadmap-2024/banner-light.png"
    dark: "@/assets/blog/roadmap-2024/banner-dark.png"
    alt: プロジェクトのブランド："Biome, toolchain of the web"
socialImage: "@/assets/social-logo.png"
featured: true
---

Biome 2.0のリリースから、まだ1か月も経っていません。しかし、この短期間で驚くほど多くの反響をいただきました！Discordは賑わい、ダウンロード数は急増し、バグレポートも続々と寄せられています :)

## より高速なスキャナー

おそらく一番の議論の的は、Biome 2.0で導入された新しいスキャナーでしょう。これは、ネストされた設定ファイルの検出や、プロジェクトルールが有効な場合のモジュールグラフの構築に使われます。この機能が議論を呼んでいる理由は明確で、スキャナーによって処理が遅くなる一方、ユーザーはBiomeに高速性を求めているからです。

速度低下を軽減するために、2.0ではプロジェクトルールをオプトインにしており、ユーザーは機能と速度のどちらを優先するか自分で選択できます。しかし理想的には、両方を実現したいところです。そして残念ながら、プロジェクトルールがなくても、スキャナーは*ある程度*の目に見えるオーバーヘッドを引き起こしていました。

Biome 2.1では、「軽量スキャナー」（プロジェクトルールが無効な場合）の動作ロジックを変更しています。以前は、常にプロジェクトのルートから全体をスキャンしていましたが、現在はBiomeに操作を要求するファイルとフォルダーを、プロジェクトのどの部分をスキャンすべきかのヒントとして使用します。

つまり、プロジェクトルートから引数なしでBiomeを実行する場合、違いに気付くことはありません。しかし、チェックする特定のファイルを指定したり、ネストされたフォルダー内でBiomeを実行したりすると、スキャナーはプロジェクトのどの部分に興味があるかを認識し、それらの部分のみをスキャンします。

プロジェクトルールを有効にしている場合、これらの改善は適用されないことに注意してください。プロジェクトルールは、*指定していないファイルを含む*他のファイルから情報を取得する必要があることが多いため、現時点では引き続きプロジェクト全体をスキャンします。

## 改善された型推論

Biome 2.0をリリースしたとき、型推論が[`noFloatingPromises`ルール](https://biomejs.dev/linter/rules/no-floating-promises/)が理想的に検出すべきケースの約75%を検出できると述べました。それ以来、これを約85%に改善し、次のようなケースも正常に推論できるようになりました：

```ts
// これがPromiseに評価されることがわかります：
true && Promise.reject("logical operator bypass");

// しかし、これはPromiseではありません：
false && Promise.reject("logical operator bypass");

// 同様に、これがPromiseを返す可能性があることを検出するようになりました：
const condition = Math.random() > -1; // 常にtrueですが、リンターには動的
condition ? Promise.reject("ternary bypass") : null;

// 一方、以下は決してPromiseではないことがわかります：
const alwaysFalsy = 0;
alwaysFalsy ? Promise.reject("ternary bypass") : null;

// Promiseが処理されていないため、これにフラグが立てられるようになりました：
[1, 2, 3].map(async (x) => x + 1);
```

さらに、ゲッター、呼び出しシグネチャ（Call Signature）、カンマ演算子などのサポートを追加しました。私たちの目標は、TypeScriptのどの部分がサポートされているかを心配する必要がなく、大部分のケースが「ただ動く」ようにすることです。まだ作業中ですが、進捗に満足しています。

そして最後に、関連するルール[`noMisusedPromises`](https://biomejs.dev/linter/rules/no-misused-promises/)も追加しました。

## ルールの更新

2.1.0で以下の新しいルールが追加されました：

* [`noAlert`](https://biomejs.dev/linter/rules/no-alert/)
* [`noImplicitCoercion`](https://biomejs.dev/linter/rules/no-implicit-coercion/)
* [`noMagicNumbers`](https://biomejs.dev/linter/rules/no-magic-numbers/)
* [`noMisusedPromises`](https://biomejs.dev/linter/rules/no-misused-promises/)
* [`noUnassignedVariables`](https://biomejs.dev/linter/rules/no-unassigned-variables/)
* [`useReadonlyClassProperties`](https://biomejs.dev/linter/rules/use-readonly-class-properties/)
* [`useUnifiedTypeSignature`](https://biomejs.dev/linter/rules/use-unified-type-signature/)

その他の注目すべき変更：

* ルール[`noUnusedFunctionParameters`](https://biomejs.dev/linter/rules/no-unused-function-parameters/)に、`ignoreRestSiblings`オプションが追加されました。

## 注目すべきバグ修正

* ルート設定からネストされた設定ファイルを無視すると、適切に無視されるようになりました。
* 別の設定から拡張する場合、他の設定の`root`を正しく無視するようになりました。これはいくつかのユースケースで混乱を招いていました。

## 次は何か

2.xの旅はまだ始まったばかりです。スキャナーも型推論もさらなる改善が見込まれます。さらに、[コアコントリビューター](/internals/people-and-credits#core-contributors)は[2025年のロードマップ](/blog/roadmap-2025#-2025-roadmap)を進め、次の機能に焦点を当てます：
- HTMLサポートを安定させる
- Vue、Svelte、Astro、そしてうまくいけばAngularもサポートするようにHTMLを拡張する
- Markdownサポートをパーサー実装から開始する
- その他多数！

## インストールと移行

`@biomejs/biome`パッケージをインストールまたは更新します。パッケージをアップグレードする場合は、`migrate`コマンドを実行してください。

```shell
npm install --save-dev --save-exact @biomejs/biome
npx @biomejs/biome migrate --write
```

`migrate`コマンドは設定の破壊的変更を処理するので、手動で行う必要はありません。

:::note
Biome 1.xからアップグレードする場合は、[移行ガイド](/guides/upgrade-to-biome-v2)に従い、まずBiome 2.0にアップグレードしてから、Biome 2.1にアップグレードしてください。
:::

## この方向性が気に入っています、どうすれば手伝えますか？

Biomeは、プログラミング、オープンソース、Biomeの哲学を愛するボランティアによって主導されているプロジェクトです。どんな助けも歓迎します😁

### 翻訳

Biomeに精通していて、その普及に貢献したい場合は、ウェブサイトを母国語に翻訳して私たちを支援できます。この[ダッシュボード](https://biomejs.dev/i18n-dashboard/)で、サポートされている言語と、ドキュメントが最新かどうかを確認できます。

### 私たちとチャット

[Discordサーバー](https://biomejs.dev/chat)に参加して、コミュニティと交流してください。コミュニティとチャットし、コミュニティの一員であることは、貢献の一形態です。

### コード貢献

プロジェクトの技術的側面が好きで、Rust言語への道を歩みたい、またはパーサー、コンパイラー、アナライザーなどに関する知識を実践したい場合、Biomeはあなたのためのプロジェクトです！

探求すべき多くの側面があります。退屈することはないと保証します。以下は、始められるものの小さなリストです：
- 新しいリントルールを作成する！まだ実装していないルールがたくさんあります（ESLint、ESLintプラグイン、Next.js、Solidなど）。[詳細な技術ガイド](https://github.com/biomejs/biome/blob/main/crates/biome_analyze/CONTRIBUTING.md)があります。
- [Biome](https://github.com/biomejs/biome/tree/main/crates/biome_yaml_parser)の[パーサー](https://github.com/biomejs/biome/tree/main/crates/biome_html_parser)の[構築](https://github.com/biomejs/biome/blob/main/crates/biome_parser/CONTRIBUTING.md)を[手伝う](https://github.com/biomejs/biome/tree/main/crates/biome_markdown_parser)！
  Biomeパーサーの面白い点は、[エラー耐性](/internals/architecture/#parser-and-cst)のある回復可能なパーサーであり、従来のASTではなく[CST](https://en.wikipedia.org/wiki/Parse_tree)を出力することです。
- [LSP（Language Server Protocol）](https://github.com/biomejs/biome/tree/main/crates/biome_lsp)に新しい機能を実装するか、エディター拡張機能のいずれかに新しい機能を追加する：[VS Code](https://github.com/biomejs/biome-vscode)、[Zed](https://github.com/biomejs/biome-zed)、[JetBrains IntelliJ](https://github.com/biomejs/biome-intellij)。

### 財政的支援

プロジェクトの将来を信じている場合は、[Open Collective](https://opencollective.com/biome)または[GitHub Sponsors](https://github.com/sponsors/biomejs)を通じて財政的な貢献で支援することもできます。

さらに、プロジェクトは[エンタープライズサポートプログラム](/enterprise)を提供しており、企業としてコアコントリビューターの1人と契約してBiomeツールチェーンの特定の側面に取り組むことができます。